{% load static %}
<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Carrito de compras</title>
	<link rel="stylesheet" href="{% static "core/css/style.css" %}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
	<header id="navegacion">{% include "./navegacion.html" %}</header>

	<hr>

	<div id="luces"></div>
	<audio id="cancion" src="{% static "core/sound/pedro.mp3" %}" loop></audio>
	<div class="modal fade" data-bs-backdrop="static" id="modalProcesandoCompra" tabindex="-1" aria-labelledby="modalProcesandoCompra" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content" id="cajaModalProcesandoCompra">
				<div class="modal-header" id="modalProcesandoCompraHeader"></div>
				<div class="modal-body text-center" id="modalProcesandoCompraBody"></div>
				<div class="modal-footer justify-content-center" id="modalProcesandoCompraFooter">
					<button class="btn btn-success" data-bs-dismiss="modal" onclick="stopLuces()">¡Maravilloso!</button>
				</div>
			</div>
		</div>
	</div>
	
	<h1 id="textoCarritoCompras" style="text-align: center;">Carrito de compras</h1>

	<br>

	<div id="sinItemsEnCarrito" style="text-align: center; display: none;">
		<h1>No hay ítems en el carrito de compras</h1>
		<a href="{% url 'index' %}"><h2>Deberías comprar algunos aquí</h2></a>
	</div>

	<table id="tablaCarritoCompras" class="table">
		<thead>
			<tr>
				<th></th>
				<th>Nombre</th>
				<th>Categoría</th>
				<th>Precio</th>
				<th>% Sub</th>
				<th>% Oferta</th>
				<th>% Dscto. total</th>
				<th>Cantidad</th>
				<th>Precio final</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>

	<br>

	<div style="display: flex; align-items: center; justify-content: center;">
		<table id="tablaContenedorDatosTributarios" class="table" style="width: 50%;">
			<thead>
				<tr>
					<th>Precio sin IVA</th>
					<th>IVA (%)</th>
					<th>Total a pagar</th>
				</tr>
			</thead>
		</table>
	</div>

	<br>

	<div id="contenedorBotones" style="display: none; text-align: center;">
		<button id="btnLimpiarCarrito" class="btn btn-outline-danger mx-2" type="button" onclick="limpiarCarrito()">Vaciar carrito</button>
		<button id="btnConfirmarCompra" class="btn btn-outline-success mx-2" type="button" onclick="procesarCompra()">Confirmar compra</button>
	</div>

	<hr>
	
	<!-- FOOTER DE LA PÁGINA -->
	<footer>
		<div id="page-footer">
			<p>PrograGames &copy; 2024. Todos los derechos reservados.</p>
			<b><p>Hecho con <span id="corazon">♥</span> por Seth.</p></b>
		</div>
	</footer>
	<!-- FOOTER DE LA PÁGINA -->

	<script src="/static/core/js/carrito_compras.js" type="module"></script>
	<script src="/static/core/js/registro.js"></script>
	<script src="/static/core/js/main.js" type="module"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>